
<!doctype html>
<html lang="ar" class="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <header class="topbar">
      <div>ğŸ” Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø¨Ø· Ø¨ÙŠÙ† 6 ØºØ±Ù - LiveKit</div>
      <div class="small">Ø¬Ø§Ù‡Ø²</div>
    </header>
    <div class="container">
      <div class="card">
        <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
        <p class="small">Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</p>
        <input id="username" class="input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" />
        <input id="password" class="input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" type="password" />
        <button id="loginBtn" class="btn">Ø¯Ø®ÙˆÙ„</button>
        <hr/>
        <p class="small">Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ù…ØªØ§Ø­ÙˆÙ†:</p>
        <ul class="small">
          <li>admin / admin123</li>
          <li>Ù…Ø¯ÙŠÙ†Ø© Ø±Ù‚Ù… 1 / City1 ... Ù…Ø¯ÙŠÙ†Ø© Ø±Ù‚Ù… 6 / City5</li>
          <li>Ù…Ø´Ø§Ù‡Ø¯ 1 / Watch1 ... Ù…Ø´Ø§Ù‡Ø¯ 6 / Watch6</li>
        </ul>
      </div>
    </div>
    <script src="/common.js"></script>
    <script>
      (function() {
        const s = API.session();
        if (s) goTo(s.role, s.room);
        const btn = document.getElementById('loginBtn');
        btn.addEventListener('click', async () => {
          btn.disabled = true;
          try {
            const data = await API.login(
              document.getElementById('username').value.trim(),
              document.getElementById('password').value.trim()
            );
            goTo(data.role, data.room);
          } catch (e) {
            alert(e.message || 'ÙØ´Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„');
          } finally {
            btn.disabled = false;
          }
        });
      })();
    </script>
  </body>
</html>
